            _______________________________________
   ________|                                       |_________
  \        |             Rumba 2.4                 |        /
   \       |         http://rumba.net.ru           |       /
    \      |    Эдуард Сесигин  © 2007 - 2008      |      /
    /      |_______________________________________|      \
   /___________)                               (___________\



//-----------------------------------------------------------------
// Системные требования:
//-----------------------------------------------------------------

PHP
Mode Rewrite
Zend Optimizer

//-----------------------------------------------------------------
// ОПИСАНИЕ:
//-----------------------------------------------------------------
Скрипт подходит для использования в качестве КМС, 
новостного сайта, блога, персональной страницы. 
В скрипте реализованы:

---
Разбиение статей (новостей, заметок) на категории
---
Постраничный вывод в порядке убывания (начиная с последней опубликованной и так далее)
---
Комментарии к статьям (можно запрещать/разрешать комментарии к каждой статье)
---
Удаление ненужных комментариев
---
Подсветка комментариев администратора (при желании)
---
Поиск по сайту с постраничным выводом результатов
---
Вывод на панель меню последних 10 поисковых запросов
---
Поисковая история (оптимизированная под популярные запросы)
---
Карта сайта (для лучшей индексации поисковиками)
---
Гостевая книга (если мало комментариев к статьям)
---
Статистика посещений сайта (по дням и реферерам)
---
Урлы страниц в виде статичных .html, за исключением списка последних запросов
---
База данных на текстовых файлах (не зависит от наличия и версии SQL на сервере)
---
Компактный и лёгкий код не загружает сервер хостера и берет минимальный трафик
---
Публикация статей из кеша с заданным интервалом (регулярное автоматическое обновление сайта)
---
Механизм автореферирования (создания конспекта статьи)
---
Модуль транслита (статья дублируется в транслите)
---
Модуль уникализации анонсов на страницах - главной, категорий и поиска
---
Антиспамовые настройки
---
RSS
---
Скрипт имеет SEO оптимизацию

//-----------------------------------------------------------------
// ИНСТАЛЛЯЦИЯ:
//-----------------------------------------------------------------

Распакуйте и скопируйте дистрибутив на сайт
---
В файле data/html/config.php измените УРЛ сайта, название, паспорт и емейл админа
---
Выставьте права доступа: 755 для каталогов и 644 для файлов
---
Если необходимо, замените в htaccess AddType на закомментированный
---
Поздравляю! Можете начинать наполнять контентом свой сайт.

//-----------------------------------------------------------------
// АДМИНИСТРИРОВАНИЕ:
//-----------------------------------------------------------------

По адресу http://ваш_сайт.ру/admin.php
расположен админ-центр. Вы можете войти в него через кнопку ВХОД.
---
Для начала создайте категории, по которым будет распределяться
контент сайта. После этого добавляйте статьи, указывая категорию,
публиковать сейчас или потом, разрешены ли комментарии.
Важные статьи можно выводить в меню.
---
В файле config.php можно изменить количество отбражаемых в ленте новостей
анонсов, их размеры, частоту обновления сайта из кэша, возможность
добавления статей гостями сайта и картинок к ним и многое другое.
Внимательно читайте комментарии к каждой переменной в этом файле.
---
Все файлы, которые можно изменять (вдумчиво и аккуратно)
лежат в http://ваш_сайт.ру/data/html/

//-----------------------------------------------------------------
// ИНСТРУКЦИЯ:
//-----------------------------------------------------------------

Как мне ввести комментарий с подсветкой?
---------------------------------------------------------------
Для защиты во всех комментах удаляются HTML теги. Однако для
администратора есть очень удобная опция: вместо кода защиты
Insert code вводите пароль администратора, а в графе Your email
вводите + для зелёной подсветки (одобрения) или - для красной 
подсветки (порицания) комментария.

Как мне удалить комментарии?
---------------------------------------------------------------
При редактировании статьи дополнительно возможно удалять
нежелательные комментарии.

Как бороться со спамом?
---------------------------------------------------------------
В файле data/def.php имеются массивы 
$_bazadied['ip'] - IP нежелательных гостей
$_bazadied['browser'] - Названия краулеров, ворующих контент
$_bazadied['host'] - Сайтов, трафик откуда вы не желаете получать
$_bazadied['slova'] - Слова, упоминание которых в комментарии - спам
Редактируйте этот файл, при добавлении не забывая закрывать кавычки,
ставить запятую и переводить на новую строку.

Как создать краткую аннотацию к статье?
---------------------------------------------------------------
По умолчанию, при добавлении статьи создаётся автореферат.
Вы можете не использовать эту функцию, запретив показывание автореферата
в файле config.php или при добавлении статьи поставив
Auto referat в положение NO

Как мне изменить/добавить ссылки?
---------------------------------------------------------------
Файл http://ваш_сайт.ру/data/html/links.txt содержит
список ссылок в формате HTML. Изменяете его в соответствии
со своими пожеланиями по обмену ссылками с каталогами и проч.

Как мне изменить контактные данные?
---------------------------------------------------------------
Файл http://ваш_сайт.ру/data/html/contacts.txt содержит
ваш адрес в формате HTML. Изменяете его в соответствии
со своими пожеланиями.

Я хочу, чтобы некоторые странички были в меню?
---------------------------------------------------------------
Что же, это реализуется очень просто. В меню администратора
в разделе ADD ARTICLE IN MENU выбираете опубликованную статью
и добавляете в меню. Аналогичным образом статья удаляется из меню.

Как мне добавить статью для более позднего опубликования?
---------------------------------------------------------------
В меню администрирования в азделе ADD ARTICLE в Publish выбрать
опцию TOMORROW. В этом случае статья будет добавлена в кеш и
выведена в новости согласно настройке автоматического обновления
вашего сайта.

Как правильно настроить автоматическое обновление сайта?
---------------------------------------------------------------
В сайте конфигурации config.php есть запись $obnovas=7
Это значит, на каждый седьмой хит (посещение/перемещение)
посетителя ваш сайт будет обновляться (из базы неопубликованных статей,
если они не закончились). За раз выводится одна новая статья.
Если у вас в среднем 50 посетителей в день, то логично выставить
$obnovas=50 для ежедневного обновления или к примеру
$obnovas=350 для еженедельного обновления.


Как мне внести большую базу статей?
---------------------------------------------------------------
Чтобы не тратить время на ручной ввод статей, можно сделать по другому.
Сначала упорядочьте категории на сайте, добавьте сколько надо.
Их список http://ваш_сайт.ру/data/html/category.txt
Посмотрите его, чтобы знать, какой категории какой соответствет код.
Сформируйте текстовую базу статей в следующем формате:
 Название статьи|Ссылка|Код категории|Имя Автора|Текст статьи|Год(2000-2007)|Месяц(01-12)|Число(01-31)|Уникальный 8-значный номер статьи(98989801)|Можно/нельзя комментировать(1/0)|
Вот ньюансы: Название статьи начинается с пробела, код категории утанавливаете тот,
что относится к статье, уникальный код статьи не должен совпадать (на то он и уникальный), 
комментарии можно - 1, нельзя - 0 и самое главное, не должно быть переводов строки в тексте статьи!!!
Т.е. одна строка - это одна заметка, в конце файла должен быть перевод на новую строку (это важно).
Разобрались. Будем считать, что с помощью Exel'а и Word'а всё получилось.
К примеру получилась база на 300 строк. Отлично.
переименовываете её в dd.dat и копируете в http://ваш_сайт.ру/data/base/
Вырезаете из неё 50 статей и вставляете в db.dat
теперь у вас 2 базы (250 и 50 статей). Открываете файл http://ваш_сайт.ру/data/base/ukazatel.txt
и в нем стираете всё и пишете цифру 1 (перевода на следущую строку не должно быть).
Теперь с указанной в настройках периодичностью сайт сам будет обновляться,
можно спокойно ехать на Канары снимать стресс.

//-----------------------------------------------------------------
// КОНТАКТ:
//-----------------------------------------------------------------

Для связи с автором:
----------------------
claygod@yandex.ru
---------------------